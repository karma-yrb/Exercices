<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo= ">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Apprentissage</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap');
        
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #06070d;
            color: #ffffff;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .glass-card:hover {
            transform: translateY(-8px) scale(1.02);
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .subject-tag {
            font-size: 0.65rem;
            font-weight: 800;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            padding: 4px 12px;
            border-radius: 100px;
            display: inline-block;
            margin-bottom: 12px;
        }

        .glow-zyvah { color: #d946ef; text-shadow: 0 0 20px rgba(217, 70, 239, 0.5); }
        .glow-lovyc { color: #3b82f6; text-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
        
        .avatar {
            width: 48px;
            height: 48px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .icon-box {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.05);
            margin-right: 16px;
        }

        svg { width: 24px; height: 24px; fill: currentColor; }
    
        /* CSS replacement for Tailwind */
        .min-h-screen { min-height: 100vh; }
        .p-6 { padding: 1.5rem; }
        .md\:p-16 { padding: 4rem; }
        .max-w-7xl { max-width: 80rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .mb-20 { margin-bottom: 5rem; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .gap-4 { gap: 1rem; }
        .mb-4 { margin-bottom: 1rem; }
        .h-1 { height: 0.25rem; }
        .w-12 { width: 3rem; }
        .bg-blue-500 { background-color: #3b82f6; }
        .rounded-full { border-radius: 9999px; }
        .text-blue-500 { color: #3b82f6; }
        .font-bold { font-weight: 700; }
        .tracking-widest { letter-spacing: 0.1em; }
        .text-xs { font-size: 0.75rem; line-height: 1rem; }
        .uppercase { text-transform: uppercase; }
        .text-5xl { font-size: 3rem; line-height: 1; }
        .md\:text-7xl { font-size: 4.5rem; line-height: 1; }
        .font-extrabold { font-weight: 800; }
        .mb-6 { margin-bottom: 1.5rem; }
        .tracking-tighter { letter-spacing: -0.05em; }
        .text-transparent { color: transparent; }
        .bg-clip-text { -webkit-background-clip: text; background-clip: text; }
        .bg-gradient-to-r { background-image: linear-gradient(to right, #60a5fa, #a855f7); }
        .from-blue-400 { --tw-gradient-from: #60a5fa; }
        .to-purple-500 { --tw-gradient-to: #a855f7; }
        .text-slate-400 { color: #94a3b8; }
        .text-xl { font-size: 1.25rem; line-height: 1.75rem; }
        .max-w-2xl { max-width: 42rem; }
        .grid { display: grid; }
        .gap-16 { gap: 4rem; }
        .mb-10 { margin-bottom: 2.5rem; }
        .gap-6 { gap: 1.5rem; }
        .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
        .text-slate-500 { color: #64748b; }
        .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
        .p-8 { padding: 2rem; }
        .p-7 { padding: 1.75rem; }
        .p-6 { padding: 1.5rem; }
        .rounded-\ \[2rem\ \] { border-radius: 2rem; }
        .text-2xl { font-size: 1.5rem; line-height: 2rem; }
        .mt-1 { margin-top: 0.25rem; }
        .max-w-md { max-width: 28rem; }
        .opacity-0 { opacity: 0; }
        
        .group:hover { transform: translateY(-8px) scale(1.02); background: rgba(255, 255, 255, 0.06); border-color: rgba(255, 255, 255, 0.2); }
        .group:hover .opacity-0 { opacity: 1; }

        @media (min-width: 1024px) {
            .lg\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
        @media (min-width: 768px) {
            .md\:text-7xl { font-size: 4.5rem; }
            .md\:p-16 { padding: 4rem; }
        }
    </style>
</head>
<body class="min-h-screen p-6 md:p-16">
    <div class="max-w-7xl mx-auto">
        
        <!-- HEADER -->
        <header class="mb-20">
            <div class="flex items-center gap-4 mb-4">
                <div class="h-1 w-12 bg-blue-500 rounded-full"></div>
                <span class="text-blue-500 font-bold tracking-widest text-xs uppercase">Espace √âducation</span>
            </div>
            <h1 class="text-5xl md:text-7xl font-extrabold mb-6 tracking-tighter">
                Hello, <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">Pr√™ts pour la mission ?</span>
            </h1>
            <p class="text-slate-400 text-xl max-w-2xl">L'aventure commence ici. Choisissez votre univers pour aujourd'hui.</p>
        </header>

        <div class="grid lg:grid-cols-2 gap-16">
            
            <!-- SECTION ZYVAH (Seconde) -->
            <section>
                <div class="flex items-center gap-6 mb-10">
                    <div class="avatar shadow-[0_0_20px_rgba(217,70,239,0.3)]">üåü</div>
                    <div>
                        <h2 class="text-3xl font-extrabold glow-zyvah">Zyvah</h2>
                        <p class="text-slate-500 font-bold text-sm uppercase tracking-widest">Niveau Seconde ‚Ä¢ Music & Art Universe</p>
                    </div>
                </div>

                <div class="grid gap-6">
                    <!-- LIEN VERS DASHBOARD ZYVAH -->
                    <a href="./Zyvah/index.html" class="glass-card p-6 rounded-[2rem] flex items-center group">
                        <div class="icon-box text-purple-400 group-hover:bg-purple-500/20 transition-all">
                            <svg viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6V12L16,14.5L16.8,13.2L13.5,11.2V6H12Z"/></svg>
                        </div>
                        <div class="flex-grow">
                            <span class="subject-tag bg-purple-500/10 text-purple-400">üéπ Studio Dashboard</span>
                            <h3 class="text-xl font-bold">Acc√©der √† l'espace Zyvah</h3>
                            <div id="zyvah-global-progress" class="flex items-center gap-3 mt-2">
                                <div class="w-24 bg-white/5 h-1.5 rounded-full overflow-hidden">
                                    <div id="zyvah-bar" class="bg-purple-500 h-full w-0 transition-all duration-1000"></div>
                                </div>
                                <p id="zyvah-count" class="text-slate-500 text-[10px] font-bold uppercase tracking-tighter">Chargement...</p>
                            </div>
                        </div>
                        <div class="opacity-0 group-hover:opacity-100 transition-all -translate-x-4 group-hover:translate-x-0">
                            <svg class="text-purple-400" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/></svg>
                        </div>
                    </a>
                </div>
            </section>

            <!-- SECTION LOVYC (4√®me) -->
            <section>
                <div class="flex items-center gap-6 mb-10">
                    <div class="avatar shadow-[0_0_20px_rgba(59,130,246,0.3)]">üöÄ</div>
                    <div>
                        <h2 class="text-3xl font-extrabold glow-lovyc">Lovyc</h2>
                        <p class="text-slate-500 font-bold text-sm uppercase tracking-widest">Niveau 4√®me ‚Ä¢ Gaming & Tactical Universe</p>
                    </div>
                </div>

                <div class="grid gap-6">
                    <!-- LIEN VERS DASHBOARD LOVYC -->
                    <a href="./Lovyc/index.html" class="glass-card p-6 rounded-[2rem] flex items-center group">
                        <div class="icon-box text-blue-400 group-hover:bg-blue-500/20 transition-all">
                            <svg viewBox="0 0 24 24"><path d="M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5Z"/></svg>
                        </div>
                        <div class="flex-grow">
                            <span class="subject-tag bg-blue-500/10 text-blue-400">‚öîÔ∏è Tactical Dashboard</span>
                            <h3 class="text-xl font-bold">Acc√©der √† l'espace Lovyc</h3>
                            <div class="flex items-center gap-3">
                                <div class="w-24 bg-white/5 h-1.5 rounded-full overflow-hidden">
                                    <div id="lovyc-bar" class="bg-blue-500 h-full w-0 transition-all duration-1000"></div>
                                </div>
                                <p id="lovyc-count" class="text-slate-500 text-[10px] font-bold uppercase tracking-tighter">0/3 Missions</p>
                            </div>
                        </div>
                        <div class="opacity-0 group-hover:opacity-100 transition-all -translate-x-4 group-hover:translate-x-0">
                            <svg class="text-blue-400" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/></svg>
                        </div>
                    </a>

                    <!-- MATHS (PLACEHOLDER) -->
                    <div class="glass-card p-6 rounded-[2rem] flex items-center opacity-40 grayscale group cursor-not-allowed">
                        <div class="icon-box">
                            <svg viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>
                        </div>
                        <div class="flex-grow">
                            <span class="subject-tag bg-slate-500/20 text-slate-400">üß† Math Master</span>
                            <h3 class="text-xl font-bold text-slate-500">Mois 1 - Semaine 1</h3>
                            <p class="text-slate-500 text-sm">Bient√¥t disponible...</p>
                        </div>
                    </div>
                </div>

                <!-- PROGRESS WIDGET -->
                <div class="mt-16 p-8 rounded-[2.5rem] bg-gradient-to-br from-blue-600/20 to-purple-600/10 border border-white/5 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10">
                        <svg class="w-24 h-24" viewBox="0 0 24 24"><path d="M12,12L14.33,19L15,21L16,22L17,21L17.66,19L20,12L21,9L22,8L21,7L20,5L17.66,3L17,2L16,1L15,2L14.33,3L12,5L11,7L10,8L11,9L12,12Z"/></svg>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">Progr√®s de la Mission</h3>
                    <div class="w-full bg-white/5 rounded-full h-3 mb-4 overflow-hidden">
                        <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-full w-[35%] rounded-full shadow-[0_0_15px_rgba(59,130,246,0.5)] transition-all duration-1000 group-hover:w-[45%]"></div>
                    </div>
                    <p class="text-slate-400 font-medium">Vous avez compl√©t√© 3 sessions sur 10 pr√©vues ce mois-ci. Continuez !</p>
                </div>
            </section>

        </div>

        <!-- FOOTER -->
        <footer class="mt-32 pt-12 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-6">
            <p class="text-slate-500 font-bold tracking-widest text-xs uppercase">¬© 2026 Dashboard d'Apprentissage Priv√©</p>
            <div class="flex gap-8">
                <button onclick="generateParentReport()" class="text-blue-400 hover:text-blue-300 text-xs font-bold uppercase tracking-widest border border-blue-400/30 px-4 py-2 rounded-lg transition-all">üìß G√©n√©rer Rapport Parent</button>
                <span class="text-slate-600 text-xs font-bold uppercase tracking-widest">Version Local 2.5</span>
            </div>
        </footer>
    </div>

    <script>
        function updateDashboard() {
            // Configuration des modules pour calcul
            const zyvahModules = [
                { key: 'zyvah_maths_w1_v2', total: 2 },
                { key: 'zyvah_ses_w1_v2', total: 2 }
            ];
            const lovycModules = [
                { key: 'lovyc_fr_w1_v2', total: 3 }
            ];

            function getProgress(modules) {
                let done = 0;
                let total = 0;
                modules.forEach(m => {
                    const data = localStorage.getItem(m.key);
                    if (data) {
                        const state = JSON.parse(data);
                        // engine.js v2 sauve un objet avec completedDays
                        if (state.completedDays) {
                            done += state.completedDays.length;
                        } else if (Array.isArray(state)) {
                            // R√©tro-compatibilit√© engine v1
                            done += state.length;
                        }
                    }
                    total += m.total;
                });
                return { done, total, percent: (done / total) * 100 };
            }

            // Update Zyvah
            const zyvah = getProgress(zyvahModules);
            document.getElementById('zyvah-bar').style.width = zyvah.percent + '%';
            document.getElementById('zyvah-count').innerText = `${zyvah.done}/${zyvah.total} Missions`;

            // Update Lovyc
            const lovyc = getProgress(lovycModules);
            document.getElementById('lovyc-bar').style.width = lovyc.percent + '%';
            document.getElementById('lovyc-count').innerText = `${lovyc.done}/${lovyc.total} Missions`;
        }

        function generateParentReport() {
            const keys = {
                'Lovyc (Fran√ßais)': 'lovyc_fr_w1_v2',
                'Zyvah (Maths)': 'zyvah_maths_w1_v2',
                'Zyvah (SES)': 'zyvah_ses_w1_v2'
            };

            let report = "RAPPORT D'AVANCEMENT - " + new Date().toLocaleDateString() + "\n\n";
            for (let name in keys) {
                const data = localStorage.getItem(keys[name]);
                if (data) {
                    const state = JSON.parse(data);
                    const done = state.completedDays ? state.completedDays.length : 0;
                    report += `[${name}] : ${done} mission(s) valid√©e(s).\n`;
                } else {
                    report += `[${name}] : Pas encore commenc√©.\n`;
                }
            }

            const mailto = `mailto:karmafr@gmail.com?subject=Rapport d'apprentissage&body=${encodeURIComponent(report)}`;
            window.location.href = mailto;
        }

        window.onload = updateDashboard;
    </script>
</body>
</html>

