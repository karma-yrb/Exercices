<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo= ">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lovyc - Mission 5 | Module 2</title>
    <link rel="stylesheet" href="../../../assets/lovyc/tactical.css">
</head>
<body>

<div id="app">
    <div class="header">
        <div class="progress-meta">
            <span id="progress-text">MISSION EN COURS</span>
            <span id="session-tag">DEPLOIEMENT FINAL</span>
        </div>
        <div class="bar-container"><div id="main-bar" class="bar-fill"></div></div>
    </div>

    <div id="view-content" class="view active">
        <h2 id="step-title" style="margin-bottom:20px;"></h2>
        <div id="step-body"></div>
    </div>

    <div id="view-success" class="view">
        <div class="success-card">
            <div class="visual-anchor">
                <svg viewBox="0 0 200 200" style="width: 180px; height: 180px;">
                    <path d="M60 40 L140 40 L130 100 Q100 130 70 100 Z" fill="none" stroke="var(--accent)" stroke-width="4" />
                    <text x="100" y="82" text-anchor="middle" style="fill: var(--accent); font-family: var(--font-mono); font-weight: 900; font-size: 20px;">MVP</text>
                </svg>
            </div>
            <h1 class="success-title">MODULE 2 VALIDE !</h1>
            <p class="success-text">Felicitations Agent Lovyc. Ton grade 'Maitre des Comms' est officiellement valide.</p>
            <div class="box-concept next-mission-call">
                <span>REVIENS DEMAIN</span><br>
                POUR LE PROCHAIN MODULE.
            </div>
            <button onclick="location.href='index.html'" class="btn-main">RETOUR</button>
        </div>
    </div>

    <div class="footer-nav hidden" id="footer">
        <div class="btn-group">
            <button id="btn-prev" class="btn-nav hidden">RETOUR</button>
            <button id="btn-next" class="btn-main">CONTINUER</button>
        </div>
    </div>
</div>

<script src="../../../assets/shared/engine.js?v=20260210"></script>
<script src="../../../assets/lovyc/fr_validator.js?v=20260210"></script>
<script>
    window.APP_CONFIG = {
        STORAGE_KEY: "lovyc_fr_w2_v2",
        SINGLE_MISSION_MODE: 5
    };

    const weekData = [{
        id: 5,
        title: "L'Ultime Deploiement",
        steps: [
            {
                type: "lesson",
                title: "Briefing : Fusion de Styles",
                content: `
                    <p>Agent Lovyc, tu maitrises maintenant :</p>
                    <ul>
                    <li>La respiration (virgules).</li>
                    <li>Le dialogue (tirets & incises).</li>
                    <li>L'intensite (points !?...).</li>
                    <li>La precision (deux-points & parentheses).</li>
                    </ul>
                    <p>C'est dire que ton signal est clean.</p>`
            },
            {
                type: "interactive",
                title: "Revue de Code",
                question: "Quelle ponctuation est incorrecte ici : <br><i>L'agent (Lovyc) deploie : ses deux, drones</i>",
                options: ["La parenthese", "Les deux-points", "La virgule entre 'deux' et 'drones'"],
                answer: 2,
                feedback: "Correct. On n'isole pas l'adjectif du nom avec une virgule."
            },
            {
                type: "interactive",
                title: "Choix de Ponctuation",
                question: "Quel signe sert a introduire une liste ?",
                options: [":", ",", "!"],
                answer: 0,
                feedback: "Exact."
            },
            {
                type: "write",
                title: "Rapport Tactique 1",
                question: "Redige une phrase avec un dialogue court (a€”...) et une incise au present :",
                requirements: {
                    mode: "sentence",
                    keywords: ["a€”", "Lovyc"]
                },
                hint: "Ex: a€” Je passe a droite, dit Lovyc.",
                feedback: "Communication claire."
            },
            {
                type: "write",
                title: "Rapport Tactique 2",
                question: "Redige une phrase contenant une liste de deux elements separes par deux-points (:) :",
                requirements: {
                    mode: "sentence",
                    keywords: [":"]
                },
                hint: "Ex: La zone contient deux menaces : un sniper et un char.",
                feedback: "Cible identifiee."
            },
            {
                type: "write",
                title: "Rapport Tactique 3",
                question: "Redige une phrase contenant des parentheses pour une precision :",
                requirements: {
                    mode: "sentence",
                    keywords: ["(", ")"]
                },
                hint: "Ajoute une precision courte entre parentheses, collee a l'element precise.",
                feedback: "Precision ajoutee."
            },
            {
                type: "interactive",
                title: "Dialogue Check",
                question: "Quel element est obligatoire pour un dialogue ?",
                options: ["Le tiret cadratin", "Les deux-points", "La parenthese"],
                answer: 0,
                feedback: "Correct."
            },
            {
                type: "write",
                title: "Dialogue + Incise",
                question: "Ecris une ligne de dialogue avec incise.",
                requirements: {
                    mode: "sentence",
                    keywords: ["a€”"]
                },
                hint: "Utilise un verbe de parole (dit, murmura, repondit) et garde une ponctuation claire.",
                feedback: "Dialogue valide."
            },
            {
                type: "interactive",
                title: "Deux-points Check",
                question: "Quelle phrase est correcte ?",
                options: ["Je prends : casque et micro.", "Je prends deux choses : casque et micro.", "Je prends deux choses: casque et micro."],
                answer: 1,
                feedback: "Espace avant et apres les deux-points."
            },
            {
                type: "write",
                title: "Parentheses",
                question: "Ajoute une precision entre parentheses : <br><br><i>La zone est active.</i>",
                requirements: {
                    mode: "sentence",
                    keywords: ["(", ")"]
                },
                hint: "Ajoute une precision courte entre parentheses, collee a l'element precise.",
                feedback: "Ok."
            },
            {
                type: "interactive",
                title: "Virgule Check",
                question: "Quelle phrase respire le mieux ?",
                options: ["Je vise, je tire.", "Je vise je, tire.", "Je vise je tire."],
                answer: 0,
                feedback: "Virgule propre."
            },
            {
                type: "write",
                title: "Mix Ponctuation",
                question: "Ecris une phrase avec une virgule et un point d'exclamation.",
                requirements: {
                    mode: "sentence",
                    keywords: [",", "!"]
                },
                hint: "Mets la virgule entre deux actions proches, puis le point pour cloturer l'idee.",
                feedback: "Mix valide."
            },
            {
                type: "write",
                title: "Micro Rapport",
                question: "Ecris trois phrases avec au moins deux signes de ponctuation differents.",
                requirements: {
                    mode: "sentence",
                    minWords: 18,
                    keywords: [",", ".", "!", "?", "phrase"],
                    enforceKeywords: true
                },
                hint: "Fais des phrases courtes et claires, puis verifie accords et ponctuation.",
                feedback: "Rapport solide."
            },
            {
                type: "write",
                title: "Rapport Long",
                question: "Redige un petit paragraphe (au moins 20 mots) avec virgule, deux-points et parentheses.",
                requirements: {
                    mode: "sentence",
                    minWords: 20,
                    keywords: [",", ":", "(", ")"]
                },
                hint: "Place ':' pour annoncer l'info, puis ajoute une precision courte entre parentheses.",
                feedback: "Rapport complet."
            },
            {
                type: "challenge",
                title: "Boss de Fin - Module 2",
                question: "Redige ton rapport final de 3 lignes (au moins 15 mots) incluant : une virgule, une parenthese et un point d'exclamation. Sois heroique !",
                requirements: {
                    mode: "sentence",
                    keywords: [",", "(", ")", "!"],
                    minWords: 15
                },
                hint: "Utilise le textarea pour raconter ta victoire finale.",
                feedback: "Felicitations Agent Lovyc. Ton grade 'Maitre des Comms' est officiellement valide. A demain pour de nouveaux defis !"
            }
        ]
    }];

    document.addEventListener('DOMContentLoaded', () => initEngine(weekData));
</script>

</body>
</html>

