<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo= ">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lovyc - Mission 1 | Module 2</title>
    <link rel="stylesheet" href="../../../assets/lovyc/tactical.css">
</head>
<body>

<div id="app">
    <div class="header">
        <div class="progress-meta">
            <span id="progress-text">MISSION EN COURS</span>
            <span id="session-tag">POINT DE SOUFFLE</span>
        </div>
        <div class="bar-container"><div id="main-bar" class="bar-fill"></div></div>
    </div>

    <div id="view-content" class="view active">
        <h2 id="step-title" style="margin-bottom:20px;"></h2>
        <div id="step-body"></div>
    </div>

    <div id="view-success" class="view">
        <div class="success-card">
            <div class="visual-anchor">
                <svg viewBox="0 0 200 200" style="width: 180px; height: 180px;">
                    <path d="M60 40 L140 40 L130 100 Q100 130 70 100 Z" fill="none" stroke="var(--accent)" stroke-width="4" />
                    <text x="100" y="82" text-anchor="middle" style="fill: var(--accent); font-family: var(--font-mono); font-weight: 900; font-size: 20px;">MVP</text>
                </svg>
            </div>
            <h1 class="success-title">MISSION ACCOMPLIE !</h1>
            <p class="success-text">Ton grade a ete mis a jour. La transmission est fluide et rythmee.</p>
            <div class="box-concept next-mission-call">
                <span>REVIENS DEMAIN</span><br>
                POUR LA SUITE.
            </div>
            <button onclick="location.href='index.html'" class="btn-main">RETOUR</button>
        </div>
    </div>

    <div class="footer-nav hidden" id="footer">
        <div class="btn-group">
            <button id="btn-prev" class="btn-nav hidden">RETOUR</button>
            <button id="btn-next" class="btn-main">CONTINUER</button>
        </div>
    </div>
</div>

<script src="../../../assets/shared/engine.js?v=20260210"></script>
<script src="../../../assets/lovyc/fr_validator.js?v=20260210"></script>
<script>
    window.APP_CONFIG = {
        STORAGE_KEY: "lovyc_fr_w2_v2",
        SINGLE_MISSION_MODE: 1,
        TRACKING_SUBJECT: "Francais",
        TRACKING_MODULE: "Module_2",
    };

    const weekData = [{
        id: 1,
        title: "Le Souffle : La Virgule",
        steps: [
            {
                type: "lesson",
                title: "Briefing : Respiration Slam",
                content: `
                    <div class="visual-anchor">
                    <svg viewBox="0 0 100 40" style="width: 140px; height: auto; stroke: var(--accent); fill: none; stroke-width: 1.5;">
                        <path d="M10 20 Q30 5 50 20 T90 20" stroke-dasharray="2,2"/>
                        <circle cx="50" cy="20" r="3" fill="var(--accent)"/>
                        <text x="48" y="35" style="fill: var(--accent); font-size: 10px; font-weight: bold; font-family: monospace;">,</text>
                    </svg>
                    </div>
                    <div class="content-chunk">
                    <p>Comme dans un texte de <b>Gael Faye</b> ou un morceau d'<b>Oxmo Puccino</b>, la virgule n'est pas qu'un signe technique, c'est ton <b>souffle</b>.</p>
                    <p>Elle sert a separer des elements dans une liste ou a marquer une courte pause sans couper le signal. C'est elle qui donne du "groove" a ta phrase.</p>
                    </div>
                    <div class="box-concept">
                    aœ… J'ai pris mon casque<b>,</b> mes gants et ma souris.<br><br>
                    <b>Exemple de Flaubert :</b><br>
                    <i>"Elle etait pale, elle marchait vite, elle semblait chercher quelqu'un."</i>
                    </div>`
            },
            {
                type: "lesson",
                title: "Rythme et Liste",
                content: `
                    <div class="box-concept">
                    J'ai pris mon casque, mes gants et ma souris.<br><br>
                    Elle etait pale, elle marchait vite, elle semblait chercher quelqu'un.
                    </div>`
            },
            {
                type: "interactive",
                title: "Detection de Micro-coupure",
                question: "Ou manque-t-il une virgule pour que la phrase soit fluide ? <br><br><i>Le capitaine Lovyc analyse la map il deploie ses drones.</i>",
                options: ["Apres 'Lovyc'", "Apres 'map'", "Apres 'deploie'"],
                answer: 1,
                feedback: "Correct. La pause se fait entre deux actions distinctes."
            },
            {
                type: "interactive",
                title: "Pause Juste",
                question: "Ou placer la virgule ? <br><br><i>Quand le match commence on reste groupes.</i>",
                options: ["Quand le match commence, on reste groupes.", "Quand le match, commence on reste groupes.", "Quand le match commence on, reste groupes."],
                answer: 0,
                feedback: "La virgule vient apres la subordonnee."
            },
            {
                type: "write",
                title: "Saisie Rythmique",
                question: "Reecris cette phrase en ajoutant les <b>deux</b> virgules necessaires : <br><br><i>Le serveur sature le ping monte et le lag arrive.</i>",
                requirements: {
                    mode: "sentence",
                    keywords: [",", "serveur", "ping", "lag"]
                },
                hint: "Il y a trois actions. Separe les deux premieres par des virgules.",
                feedback: "Bravo. Ton flow est desormais ininterrompu."
            },
            {
                type: "write",
                title: "Liste Claire",
                question: "Ecris une phrase avec une liste de trois objets et une virgule.",
                requirements: {
                    mode: "sentence",
                    keywords: [",", "et"]
                },
                hint: "Place la virgule a l'endroit de la micro-pause, entre les deux actions.",
                feedback: "Liste propre."
            },
            {
                type: "interactive",
                title: "Virgule ou Point",
                question: "Quel signe convient ? <br><br><i>Il ouvre la map ____ il repere la zone.</i>",
                options: [",", ".", "rien"],
                answer: 0,
                feedback: "Deux actions proches -> virgule."
            },
            {
                type: "interactive",
                title: "Virgule Avant Mais",
                question: "Ou placer la virgule ? <br><br><i>Il attaque mais il recule.</i>",
                options: ["Il attaque, mais il recule.", "Il attaque mais, il recule.", "Il attaque mais il, recule."],
                answer: 0,
                feedback: "Virgule avant mais."
            },
            {
                type: "write",
                title: "Virgule dans une Phrase Longue",
                question: "Ajoute une virgule pour mieux respirer : <br><br><i>Le coach explique la strat et la team ecoute.</i>",
                requirements: {
                    mode: "sentence",
                    keywords: [","]
                },
                hint: "Place la virgule a l'endroit de la micro-pause, entre les deux actions.",
                feedback: "Respiration ok."
            },
            {
                type: "write",
                title: "Virgule avec Apposition",
                question: "Ajoute une virgule apres 'Lovyc' : <br><br><i>Lovyc le capitaine donne l'ordre.</i>",
                requirements: {
                    mode: "sentence",
                    keywords: [","]
                },
                hint: "Place la virgule a l'endroit de la micro-pause, entre les deux actions.",
                feedback: "Apposition isolee."
            },
            {
                type: "interactive",
                title: "Choix Correct",
                question: "Quelle phrase est correcte ?",
                options: ["Je charge, je tire.", "Je charge je, tire.", "Je charge, je tire,"],
                answer: 0,
                feedback: "Virgule juste."
            },
            {
                type: "write",
                title: "Mini Rapport",
                question: "Ecris deux phrases avec une virgule dans chacune.",
                requirements: {
                    mode: "sentence",
                    minWords: 12,
                    keywords: [",", "phrase", "virgule"],
                    enforceKeywords: true
                },
                hint: "Place la virgule a l'endroit de la micro-pause, entre les deux actions.",
                feedback: "Rapport rythme."
            },
            {
                type: "write",
                title: "Reecriture Live",
                question: "Reecris avec virgules : <br><br><i>dans la base Lovyc prepare le match il verifie la map</i>",
                requirements: {
                    mode: "sentence",
                    keywords: [","]
                },
                hint: "Place la virgule a l'endroit de la micro-pause, entre les deux actions.",
                feedback: "Message fluide."
            },
            {
                type: "interactive",
                title: "Dernier Check",
                question: "Quelle phrase est la plus claire ?",
                options: ["Le drone arrive, il scanne.", "Le drone arrive il scanne.", "Le drone arrive, il scanne,"],
                answer: 0,
                feedback: "Clarte obtenue."
            },
            {
                type: "challenge",
                title: "Boss de Fin - Mission 1",
                question: "Redige une phrase listant 3 equipements tactiques (ex: radar, drone, radio) en utilisant correctement les virgules et le mot 'et' :",
                requirements: {
                    mode: "sentence",
                    keywords: [",", "et"]
                },
                hint: "Objet 1, Objet 2 et Objet 3.",
                feedback: "Transmission recue. Ton inventaire est clair, Agent."
            }
        ]
    }];

    document.addEventListener('DOMContentLoaded', () => initEngine(weekData));
</script>

</body>
</html>

