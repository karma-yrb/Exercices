<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo= ">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lovyc - Mission 2</title>
    <link rel="stylesheet" href="../../../assets/lovyc/tactical.css">
</head>
<body>
<div id="app">
    <div class="header">
        <div class="progress-meta"><span id="progress-text">MISSION EN COURS</span><span id="session-tag">MISSION 2</span></div>
        <div class="bar-container"><div id="main-bar" class="bar-fill"></div></div>
    </div>
    <div id="view-content" class="view active">
        <h2 id="step-title" style="margin-bottom:20px;"></h2>
        <div id="step-body"></div>
    </div>
    <div id="view-success" class="view">
        <div class="success-card">
            <div class="visual-anchor">
                <svg viewBox="0 0 200 200" style="width: 140px; height: 140px;">
                    <filter id="glow"><feGaussianBlur stdDeviation="5" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                    <path d="M60 40 L140 40 L130 100 Q100 130 70 100 Z" fill="none" stroke="var(--accent)" stroke-width="4" filter="url(#glow)"/>
                    <text x="100" y="82" text-anchor="middle" style="fill: var(--accent); font-family: var(--font-mono); font-weight: 900; font-size: 20px;">MVP</text>
                </svg>
            </div>
            <h1 style="color: var(--success); text-align: center; font-weight: 900;">MISSION ACCOMPLIE !</h1>
            <p style="text-align: center; color: var(--text-dim);">Liaison squad établie. Ton grade a été mis à jour.</p>
            <button onclick="window.location.href='./index.html'" class="btn-main" style="width: 100%; margin-top: 20px;">RETOUR AU MODULE</button>
        </div>
    </div>
    <div class="footer-nav hidden" id="footer">
        <div class="btn-group">
            <button id="btn-prev" class="btn-nav hidden">RETOUR</button>
            <button id="btn-next" class="btn-main">CONTINUER</button>
        </div>
    </div>
</div>
<script>
    window.APP_CONFIG = { STORAGE_KEY: 'lovyc_fr_w1_v2', SINGLE_MISSION_MODE: true };
    var weekData = [
        {
            id: 2,
            title: "Accord Multi-joueurs",
            steps: [
                {
                    type: "lesson",
                    title: "Le Serveur Squad",
                    content: `
                              <div class="visual-anchor">
                                <svg viewBox="0 0 100 60" style="width: 140px; height: auto; stroke: var(--accent); fill: none; stroke-width: 1.5;">
                                  <circle cx="30" cy="25" r="5" />
                                  <circle cx="50" cy="20" r="6" />
                                  <circle cx="70" cy="25" r="5" />
                                  <path d="M20 50 L40 50 M60 50 L80 50" opacity="0.5" />
                                  <path d="M40 45 L60 45" stroke-width="3" />
                                  <text x="38" y="55" style="fill: var(--accent); font-size: 8px; font-weight: bold; font-family: monospace;">-ENT</text>
                                </svg>
                              </div>
                              <div class="content-chunk">
                                <p>Le code secret du pluriel pour les verbes du 1er groupe (en -ER), c'est l'extension <b>-ENT</b>.</p>
                              </div>
                              <div class="box-concept">
                                <b>Mode Solo :</b> Le joueur <b>tire</b>.<br>
                                <b>Mode Squad :</b> Les joueurs <b>tirent</b>.
                              </div>`
                },
                {
                    type: "lesson",
                    title: "Radar du Sujet",
                    content: `
                              <div class="content-chunk">
                                <p>Avant de choisir la terminaison du verbe, tu dois trouver <b>qui fait l'action</b>.</p>
                                <p>Si le sujet est <b>au pluriel</b> (ils/elles, mes amis, les joueurs...), le verbe prend souvent <b>-ent</b>.</p>
                              </div>
                              <div class="box-concept">
                                <b>Les agents</b> avancent.<br>
                                <b>Mon agent</b> avance.
                              </div>`
                },
                {
                    type: "interactive",
                    title: "Scan de Sujet",
                    question: "Qui est le <b>sujet</b> dans cette phrase ? <br><br><i>Les soldats protègent la zone.</i>",
                    options: ["la zone", "protègent", "Les soldats"],
                    answer: 2,
                    feedback: "Exact. Le sujet, c'est qui fait l'action : Les soldats."
                },
                {
                    type: "interactive",
                    title: "Patch Correctif 1",
                    question: "Choisis la bonne terminaison : <br><br><i>Mes coéquipiers ____ la zone.</i>",
                    options: ["sécurise", "sécurisent", "sécurises"],
                    answer: 1,
                    feedback: "Bien joué ! Plusieurs coéquipiers = terminaison -ent."
                },
                {
                    type: "interactive",
                    title: "Patch Correctif 2",
                    question: "Choisis la bonne forme : <br><br><i>Les drones ____ le terrain.</i>",
                    options: ["survole", "survolent", "survoles"],
                    answer: 1,
                    feedback: "Les drones = pluriel -> survolent."
                },
                {
                    type: "write",
                    title: "Réparation Express",
                    question: "Corrige la terminaison : <br><br><i>Mes amis traverse la rue.</i>",
                    requirements: {
                        mode: "sentence",
                        keywords: ["amis", "traversent", "rue"],
                        enforceKeywords: true
                    },
                    hint: "Sujet pluriel = verbe en -ent.",
                    feedback: "Bien vu. Mes amis traversent."
                },
                {
                    type: "interactive",
                    title: "Verbes Irreguliers",
                    question: "Choisis la bonne forme : <br><br><i>Ils ____ prêts.</i>",
                    options: ["sont", "son", "est"],
                    answer: 0,
                    feedback: "Avec ils, on dit: ils sont."
                },
                {
                    type: "write",
                    title: "Transmission Claire",
                    question: "Ecris une phrase correcte avec ces mots : <br><br><i>ils - l'extraction - avancent - vers</i>",
                    requirements: {
                        mode: "sentence",
                        keywords: ["ils", "avancent", "l'extraction"],
                        enforceKeywords: true
                    },
                    hint: "Commence par 'Ils...'.",
                    feedback: "Transmission fluide."
                },
                {
                    type: "write",
                    title: "Correction de Bug",
                    question: "Réécris la phrase sans erreur : <br><br><i>Mes parents regarde mon match.</i>",
                    requirements: {
                        mode: "sentence",
                        keywords: ["parents", "regardent", "match"],
                        enforceKeywords: true
                    },
                    feedback: "Fix réussi ! Tes parents (ils) = regardent."
                },
                {
                    type: "interactive",
                    title: "Faux Ami",
                    question: "Quel verbe est correct ? <br><br><i>Les coequipiers ____ la defense.</i>",
                    options: ["ameliore", "ameliorent", "ameliores"],
                    answer: 1,
                    feedback: "Pluriel -> ameliorent."
                },
                {
                    type: "write",
                    title: "Accord Cache",
                    question: "Complete la phrase : <br><br><i>Les joueurs ____ la finale ce soir.</i>",
                    requirements: {
                        mode: "sentence",
                        keywords: ["joueurs", "gagnent", "finale"],
                        enforceKeywords: true
                    },
                    hint: "Sujet pluriel = verbe en -ent.",
                    feedback: "Parfait."
                },
                {
                    type: "interactive",
                    title: "Pluriel Repere",
                    question: "Quel mot montre que le sujet est pluriel ? <br><br><i>Mes freres avancent vite.</i>",
                    options: ["vite", "mes", "avancent"],
                    answer: 1,
                    feedback: "Oui. 'Mes' indique plusieurs."
                },
                {
                    type: "write",
                    title: "Phrase Plurielle Libre",
                    question: "Ecris une phrase avec un sujet pluriel et un verbe au present.",
                    requirements: {
                        mode: "sentence",
                        keywords: ["ils", "elles", "mes", "les"]
                    },
                    hint: "Commence par un groupe de plusieurs personnes.",
                    feedback: "Accord valide."
                },
                {
                    type: "write",
                    title: "Rapport Squad",
                    question: "Redige deux phrases avec un sujet pluriel dans chacune.",
                    requirements: {
                        mode: "sentence",
                        minWords: 10
                    },
                    hint: "Deux actions, deux accords.",
                    feedback: "Rapport synchronise."
                },
                {
                    type: "challenge",
                    title: "Boss de Fin - Mission 2",
                    question: "Réécris toute cette phrase sans aucune erreur : <br><br><i>terrain - sur - le - saute - joueurs - les</i>",
                    requirements: {
                        mode: "sentence",
                        keywords: ["joueurs", "sautent", "terrain"],
                        enforceKeywords: true
                    },
                    feedback: "L'accord de la squad est parfait."
                }
            ]
        }
    ];
</script>
<script src="../../../assets/lovyc/fr_validator.js?v=20260210"></script>
<script src="../../../assets/shared/engine.js?v=20260210"></script>
</body>
</html>
